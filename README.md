# ìì‚° ê´€ë¦¬ ì‹œìŠ¤í…œ 
## Architecture
<img width="864" alt="ì•„í‚¤í…ì²˜" src="https://github.com/taekyung-oh/DevOps-PJT-Final/assets/126674247/604730ce-8520-412c-b324-02ce9c937f28">


## Observability
![image](https://github.com/cs-devops-bootcamp/devops-04-Final-Team9/assets/126463472/7498e4ee-ef46-4c3c-8321-5a044d3caaea)
<br><br>
## Environment
<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white"/><img src="https://img.shields.io/badge/GithubActions-2088FF?style=for-the-badge&logo=GithubActions&logoColor=white"/><img src="https://img.shields.io/badge/AmazonAWS-232F3E?style=for-the-badge&logo=AmazonAWS&logoColor=white"/><img src="https://img.shields.io/badge/Prometheus-E6522C?style=for-the-badge&logo=Prometheus&logoColor=white"/><img src="https://img.shields.io/badge/Grafana-F46800?style=for-the-badge&logo=Grafana&logoColor=white"/><img src="https://img.shields.io/badge/Gmail-EA4335?style=for-the-badge&logo=Gmail&logoColor=white"/><img src="https://img.shields.io/badge/Slack-4A154B?style=for-the-badge&logo=Slack&logoColor=white"/><img src="https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=Python&logoColor=white"/><img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=JavaScript&logoColor=white"/><img src="https://img.shields.io/badge/Terraform-7B42BC?style=for-the-badge&logo=Terraform&logoColor=white"/><img src="https://img.shields.io/badge/Windows-0078D6?style=for-the-badge&logo=Windows&logoColor=white"/><img src="https://img.shields.io/badge/Ubuntu-E95420?style=for-the-badge&logo=Ubuntu&logoColor=white"/>



[![Amazon S3](https://img.shields.io/badge/Amazon%20S3-Cloud%20Storage-orange?style=flat-square&logo=amazon-s3)](https://aws.amazon.com/s3/)
[![Amazon RDS](https://img.shields.io/badge/Amazon%20RDS-Managed%20Database-orange?style=flat-square&logo=amazon-rds)](https://aws.amazon.com/rds/)
[![AWS Lambda](https://img.shields.io/badge/AWS%20Lambda-Serverless-orange?style=flat-square&logo=amazon-lambda)](https://aws.amazon.com/lambda/)
[![AWS Fargate](https://img.shields.io/badge/AWS%20Fargate-Serverless%20Containers-orange?style=flat-square&logo=aws-fargate)](https://aws.amazon.com/fargate/)
[![Amazon ECS](https://img.shields.io/badge/Amazon%20ECS-Container%20Service-orange?style=flat-square&logo=amazon-ecs)](https://aws.amazon.com/ecs/)
[![AWS CloudWatch](https://img.shields.io/badge/AWS%20CloudWatch-Monitoring%20and%20Observability-orange?style=flat-square&logo=amazon-cloudwatch)](https://aws.amazon.com/cloudwatch/)
[![AWS WAF](https://img.shields.io/badge/AWS%20WAF-Web%20Application%20Firewall-orange?style=flat-square&logo=amazon-waf)](https://aws.amazon.com/waf/)
[![AWS Security Hub](https://img.shields.io/badge/AWS%20Security%20Hub-Security%20Monitoring-orange?style=flat-square&logo=amazon-security-hub)](https://aws.amazon.com/security-hub/)
[![AWS Inspector](https://img.shields.io/badge/AWS%20Inspector-Vulnerability%20Assessment-orange?style=flat-square&logo=amazon-inspector)](https://aws.amazon.com/inspector/)
[![AWS X-Ray](https://img.shields.io/badge/AWS%20X--Ray-Tracing%20%26%20Analytics-orange?style=flat-square&logo=amazon-xray)](https://aws.amazon.com/xray/)
[![AWS Config](https://img.shields.io/badge/AWS%20Config-Resource%20Compliance%20%26%20Audit-orange?style=flat-square&logo=amazon-config)](https://aws.amazon.com/config/)
[![AWS Systems Manager](https://img.shields.io/badge/AWS%20Systems%20Manager-Operational%20Data%20Collection-orange?style=flat-square&logo=amazon-systems-manager)](https://aws.amazon.com/systems-manager/)
[![AWS CloudTrail](https://img.shields.io/badge/AWS%20CloudTrail-Audit%20%26%20Compliance-orange?style=flat-square&logo=amazon-cloudtrail)](https://aws.amazon.com/cloudtrail/)
[![Amazon Route 53](https://img.shields.io/badge/Amazon%20Route%2053-DNS%20Management-orange?style=flat-square&logo=amazon-route53)](https://aws.amazon.com/route53/)
[![OpenTelemetry](https://img.shields.io/badge/OpenTelemetry-Observability-yellow?style=flat-square&logo=open-telemetry)](https://opentelemetry.io)
[![Prometheus](https://img.shields.io/badge/Prometheus-Monitoring-yellow?style=flat-square&logo=prometheus)](https://prometheus.io)
[![AWS Resource Groups](https://img.shields.io/badge/AWS%20Resource%20Groups-Resource%20Organization-orange?style=flat-square&logo=amazon-aws)](https://aws.amazon.com/resource-groups/)


<br><br>
## Project Description
### User Story
âœ… ìì‚° ê´€ë¦¬ ì‹œìŠ¤í…œì„ ë„ì…í•˜ê²Œ ëœë‹¤ë©´ ì´ ì‹œìŠ¤í…œì„ ì–´ë–»ê²Œ ìš´ì˜ ë° ë³´ì•ˆ ê³„íšì„ ìˆ˜ë¦½í• ê²ƒì¸ê°€
ë§ì€ ê¸°ì—…ë“¤ì´ ê°ì¢… ì‹œìŠ¤í…œê³¼ IT ìì‚°ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  í•„ìš”ì„±ì´ ì»¤ì§€ê³  ìˆìœ¼ë©° ì´ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ìµœì ì˜ ê´€ë¦¬ë°©ë²•ìœ¼ë¡œ EAM(Enterprise Asset Management), ITAM(IT Asset Management) ë“± ì—¬ëŸ¬ê°€ì§€ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ìš´ìš©ì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ë¯¸í¡í•œ ë³´ì•ˆ ì •ì±… ë° ì ˆì°¨ë¡œ ì¸í•œ í”¼í•´ì‚¬ë¡€ê°€ ìˆì—ˆìœ¼ë©° ê·¸ì— ë”°ë¥¸ í•´ê²°ë°©ì•ˆìœ¼ë¡œ ì•„ë˜ì˜ ê¸°ì‚¬ë¥¼ ì°¸ê³ í•˜ì—¬ ì¤‘ìš”ì„±ì„ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

> **â€œìì‚°ê´€ë¦¬ í”Œë«í¼ìœ¼ë¡œ ê³µê²©ì ì¹¨íˆ¬ ê°€ëŠ¥ì„± ë‚®ì¶°ì•¼â€**
> 
> êµ­ë‚´ ì£¼ìš” ê¸°ì—…ê³¼ ê¸°ê´€ì„ ê³µê²©í–ˆë˜ ë§¤ìŠ¤ìŠ¤ìº” ëœì„¬ì›¨ì–´ëŠ” ì·¨ì•½ì ì´ ìˆëŠ” ë…¸ì¶œëœ DB ì„œë²„ë¥¼ íŒŒê´´í•˜ë©´ì„œ í”¼í•´ì¡°ì§ì˜ ì„œë¹„ìŠ¤ë¥¼ ì¤‘ë‹¨ì‹œì¼°ë‹¤.
> â€¦â€¦
> í¬ê´„ì ì¸ IT ìì‚° ì¸ë²¤í† ë¦¬ëŠ” ë§Œë“¤ê³  ìœ ì§€ ê´€ë¦¬í•˜ê¸° ì–´ë µë‹¤. ì¸ë²¤í† ë¦¬ êµ¬ì¶•ì„ ìœ„í•œ ê¸°ì¡´ì˜ ë§ì€ ë°©ë²•ì€ ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ê³  ë‹¨í¸ì ì´ë©° ìµœì‹  ìƒíƒœë¥¼ ìœ ì§€í•˜ê¸° ì–´ë µë‹¤.
> ë”°ë¼ì„œ ê³µê²© í‘œë©´ ì˜ì—­ì„ ì •ì˜í•  ë•Œ ë°ì´í„° ìˆ˜ì§‘ ë° ìƒê´€ ê´€ê³„ë¥¼ ìë™í™”í•˜ê³ , ë¶€ë‹´ìŠ¤ëŸ¬ìš´ ì¸ë ¥ ë¦¬ì†ŒìŠ¤ íˆ¬ì…ì„ ìµœì†Œí™”í•˜ë©°, ì‹¤ì‹œê°„ ê²°ê³¼ë¥¼ ìœ„í•´ ì§€ì†ì ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ì‚¬ì´ë²„ ë³´ì•ˆ ìì‚° ê´€ë¦¬ í”Œë«í¼ì„ ì‚¬ìš©í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆëŠ” ë°©ì•ˆì„ ê°•êµ¬í•´ì•¼ í•œë‹¤.
> ì¶œì²˜ : ë°ì´í„°ë„· â€“ 2023.02.03

ë”°ë¼ì„œ í”„ë¡œì íŠ¸ì˜ ëª©í‘œëŠ” ì´ë ‡ê²Œ ë©ë‹ˆë‹¤.

1. ìì‚° ë¶„ë¥˜ ê¸°ì¤€ì— ë”°ë¼ ìˆ˜ë¦½ëœ ì •ì˜ ë° ë¦¬ì†ŒìŠ¤ì— ì ì ˆí•œ Tag ì„¤ì •
   - ìì‚°ì´ ë§ì•„ì§ˆìˆ˜ë¡ ê´€ë¦¬ì˜ ë³µì¡ë„ë¥¼ ì™„í™”í•˜ê¸° ìœ„í•´ ê° ë¦¬ì†ŒìŠ¤ë¥¼ ì‹ë³„í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë©° ê·¸ë£¹í™” í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
2. ì •ë³´ ìì‚° ì ê²€
   - MITRE ì—ì„œ ì œê³µí•˜ëŠ” ë³´ì•ˆ ê¸°ì¤€ì¸ CCE ë° CVE ì·¨ì•½ì ì„ ì ê²€í•˜ê³  ìœ„í˜‘ì„ ì œê±° í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
3. ëª¨ë‹ˆí„°ë§ ë° ì•ŒëŒ
   - ë¦¬ì†ŒìŠ¤ì—ì„œ Metricê³¼ Logë¥¼ ìˆ˜ì§‘í•˜ê³  ì‹œê°í™” í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
   - ìˆ˜ì§‘í•œ ë°ì´í„°ë¡œ ì˜ˆê¸°ì¹˜ ëª»í•œ ìƒí™©ì˜ ì•ŒëŒê³¼ ë§¤ì¼ ì ê²€í•œí›„ì˜ ë³´ê³ ì„œë¥¼ í™•ì¸ í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
4. ìë™í™”
   - ë‹¨ìˆœ ë°˜ë³µì ì¸ ì‘ì—…ì€ ìë™í™” í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë©° ì¸í”„ë¼ ì „ë°˜ì˜ CI/CD íŒŒì´í”„ë¼ì¸ì´ êµ¬ì„±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
<br><br>
## How-To ê°€ì´ë“œ
### ğŸ“ CI/CD íŒŒì´í”„ë¼ì¸
GitHubì„ í†µí•´ ECSì— ë°°í¬ë˜ì–´ ìˆëŠ” Application ë° IaC ì†ŒìŠ¤ ì½”ë“œë¥¼ ê´€ë¦¬í•˜ë©°, ë°°í¬ ìë™í™”ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ GitHub Actionsë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.<br>
ê´€ë¦¬ ëŒ€ìƒ ì‹œìŠ¤í…œ êµ¬ì¶•ì„ ìœ„í•´ Route53, ALB, ECR, ECS Fargate, RDS, S3ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
<br><br>
### ğŸ“ ìì‚° êµ¬ë¶„ ì‹œìŠ¤í…œ í”„ë¡œì„¸ìŠ¤
#### ìë™ íƒœê¹…
AWS ì‚¬ìš©ìê°€ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„± ë° ìˆ˜ì •í•˜ë©´ CloudTrailì€ API ì´ë²¤íŠ¸ë¥¼ ë¡œê¹…í•˜ê³ , EventBridgeë¥¼ í†µí•´ Lambdaë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.<br>
í˜¸ì¶œëœ Lambdaí•¨ìˆ˜ëŠ” SSM Parameter Storeì— ì €ì¥ë˜ì–´ ìˆëŠ” íƒœê·¸ ê´€ë ¨ ì •ë³´ë¥¼ ì½ì–´, ë¦¬ì†ŒìŠ¤ì— ì ì ˆí•œ íƒœê·¸ë¥¼ íƒœê¹…í•©ë‹ˆë‹¤.
#### ìˆ˜ë™ íƒœê¹…
Resource Groupì„ ì´ìš©í•´ ëª¨ë“  ë¦¬ì†ŒìŠ¤ë¥¼ íƒœê·¸ ë‹¨ìœ„ë¡œ ê´€ë¦¬í•˜ê³ , íƒœê·¸ ì¶”ê°€, ìˆ˜ì • ë° ì‚­ì œê°€ í•„ìš”í•  ì‹œ Tag Editorì—ì„œ íƒœê¹… ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
<br><br>
### ğŸ“ ìì‚° ì ê²€ í”„ë¡œì„¸ìŠ¤
#### CVE ì ê²€
AWS Inspectorë¥¼ ì´ìš©í•´ WEB/WAS ì»¨í…Œì´ë„ˆ ì´ë¯¸ì§€ì˜ ê²°í•¨ì´ë‚˜ ì²´ê³„, ì„¤ê³„ìƒì˜ ì·¨ì•½ì ì„ ì ê²€í•˜ë©°, ì ê²€ ë‚´ìš©ì„ Security Hubë¡œ í†µí•©í•©ë‹ˆë‹¤.
#### CCE ì ê²€
AWS Configë¥¼ ì´ìš©í•´ AWS ë¦¬ì†ŒìŠ¤ì˜ ì„¤ì •ìƒì˜ ì·¨ì•½ì ì„ ì ê²€í•˜ë©°, ì ê²€ ë‚´ìš©ì„ Security Hubë¡œ í†µí•©í•©ë‹ˆë‹¤.<br>
ìë™ ì¡°ì¹˜ê°€ ê°€ëŠ¥í•œ ì·¨ì•½ì ì€ SystemManager Automarionì„ ì´ìš©í•˜ì—¬ ì¡°ì¹˜í•©ë‹ˆë‹¤.
<br><br>
### ğŸ“ Observability
#### Metric & Trace ìˆ˜ì§‘
ECS ê° ì„œë¹„ìŠ¤ì— OpenTelemetry Collector ì‚¬ì´ë“œì¹´ ì»¨í…Œì´ë„ˆë¥¼ ë°°í¬í•©ë‹ˆë‹¤.<br>
CollectorëŠ” WEB, WAS ì»¨í…Œì´ë„ˆ ë° ì–´í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œë¶€í„° Metricê³¼ Traceë¥¼ ìˆ˜ì§‘í•˜ë©°,<br>
Metricì€ AMP(Amazon Managed Prometheus), TraceëŠ” X-Rayë¡œ ì „ì†¡í•©ë‹ˆë‹¤.
#### ì‹œê°í™”
AMG(Amazon Managed Grafana)ë¥¼ ì´ìš©í•´ ê·¸ë¼íŒŒë‚˜ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.<br>
ê·¸ë¼íŒŒë‚˜ì—ì„œ AMP, X-Ray, CloudWatchë¥¼ ì¿¼ë¦¬í•˜ì—¬ ì‹œê°í™” ëŒ€ì‹œë³´ë“œë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.
<br><br>
### ğŸ“ ì•Œë¦¼
#### ìì‚° ì ê²€ ì•Œë¦¼
Security Hubì— í†µí•©ëœ ì ê²€ ë‚´ìš©ê³¼ SystemManager Automarionìœ¼ë¡œ ìë™ ì¡°ì¹˜í•œ ë‚´ìš©ì„ CloudWatchë¡œ í†µí•©í•˜ê³ , Lambda í•¨ìˆ˜ì˜ íŠ¸ë¦¬ê±°ë¡œ ì‚¬ìš©í•´ Slack ë° Emailë¡œ ì „ì†¡í•©ë‹ˆë‹¤.
#### ì¼ë³„ ë¦¬í¬íŠ¸
ë§¤ì¼ ì•„ì¹¨ ê·¸ë¼íŒŒë‚˜ ëŒ€ì‹œë³´ë“œì˜ ìŠ¤ëƒ…ìƒ·ì„ ìƒì„±í•˜ê³ , í•´ë‹¹ URLì„ Slack ë° Emailë¡œ ì „ì†¡í•©ë‹ˆë‹¤.
<br><br>
### ğŸ“ ë¹„ìš© ê´€ë¦¬ í”„ë¡œì„¸ìŠ¤
Budget ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•´ ë¹„ìš© ì„ê³„ì¹˜ë¥¼ ì„¤ì •í•˜ê³ , ì˜ˆìƒ ë¹„ìš© ì´ˆê³¼ì‹œ Emailì„ ì „ì†¡í•©ë‹ˆë‹¤.
